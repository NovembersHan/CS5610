{"ast":null,"code":"var _jsxFileName = \"/Users/yafeihan/Documents/CS5610-Web-Development/Projects/wbdv-sp21-01-yafei-han-client-react/src/components/widgets/widget-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport HeadingWidget from \"./heading-widget\";\nimport ParagraphWidget from \"./paragraph-widget\";\nimport { useParams } from \"react-router-dom\";\nimport widgetService from \"../../services/widget-service\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WidgetList = ({\n  myWidgets = [],\n  createWidget,\n  deleteWidget,\n  updateWidget,\n  findWidgetsForTopic\n}) => {\n  _s();\n\n  const {\n    topicId\n  } = useParams();\n  const [widget, setWidget] = useState({});\n  useEffect(() => {\n    findWidgetsForTopic(topicId);\n  }, [topicId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      onClick: () => createWidget(topicId),\n      className: \"fas fa-plus float-right fa-2x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Widget List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: myWidgets.map(_widget => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: [_widget.id === widget.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => deleteWidget(_widget),\n            className: \"fas fa-trash float-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => {\n              updateWidget(widget);\n            },\n            className: \"fas fa-check float-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true), _widget.id !== widget.id && /*#__PURE__*/_jsxDEV(\"i\", {\n          onClick: () => setWidget(_widget),\n          className: \"fas fa-cog float-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 33\n        }, this), _widget.type === \"HEADING\" && /*#__PURE__*/_jsxDEV(HeadingWidget, {\n          setWidget: setWidget,\n          editing: _widget.id === widget.id,\n          widget: _widget\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 33\n        }, this), _widget.type === \"PARAGRAPH\" && /*#__PURE__*/_jsxDEV(ParagraphWidget, {\n          setWidget: setWidget,\n          editing: _widget.id === widget.id,\n          widget: _widget\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }, this)]\n      }, _widget.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n\n_s(WidgetList, \"TT5graYvl5zTCdE5d5gqvuDgTDI=\", false, function () {\n  return [useParams];\n});\n\n_c = WidgetList;\n\nconst stpm = state => {\n  return {\n    myWidgets: state.widgetReducer.widgets\n  };\n};\n\nconst dtpm = dispatch => {\n  return {\n    createWidget: topicId => {\n      widgetService.createWidget(topicId, {\n        type: \"HEADING\",\n        size: 1,\n        text: \"New Widget\"\n      }).then(theActualWidget => dispatch({\n        type: \"CREATE_WIDGET\",\n        widget: theActualWidget\n      }));\n    },\n    deleteWidget: item => widgetService.deleteWidget(item.id).then(status => dispatch({\n      type: \"DELETE_WIDGET\",\n      widgetToDelete: item\n    })),\n    updateWidget: widget => widgetService.updateWidget(widget.id, widget).then(status => dispatch({\n      type: \"UPDATE_WIDGET\",\n      widget\n    })),\n    findWidgetsForTopic: tid => {\n      widgetService.findWidgetsForTopic(tid).then(theWidgets => dispatch({\n        type: \"FIND_ALL_WIDGETS_FOR_TOPIC\",\n        widgets: theWidgets\n      }));\n    }\n  };\n};\n\nexport default connect(stpm, dtpm)(WidgetList);\n\nvar _c;\n\n$RefreshReg$(_c, \"WidgetList\");","map":{"version":3,"sources":["/Users/yafeihan/Documents/CS5610-Web-Development/Projects/wbdv-sp21-01-yafei-han-client-react/src/components/widgets/widget-list.js"],"names":["React","useState","useEffect","HeadingWidget","ParagraphWidget","useParams","widgetService","connect","WidgetList","myWidgets","createWidget","deleteWidget","updateWidget","findWidgetsForTopic","topicId","widget","setWidget","map","_widget","id","type","stpm","state","widgetReducer","widgets","dtpm","dispatch","size","text","then","theActualWidget","item","status","widgetToDelete","tid","theWidgets"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport HeadingWidget from \"./heading-widget\";\nimport ParagraphWidget from \"./paragraph-widget\";\nimport {useParams} from \"react-router-dom\"\nimport widgetService from \"../../services/widget-service\";\nimport {connect} from \"react-redux\";\n\nconst WidgetList = (\n    {\n        myWidgets=[],\n        createWidget,\n        deleteWidget,\n        updateWidget,\n        findWidgetsForTopic\n    }) => {\n    const {topicId} = useParams()\n    const [widget, setWidget] = useState({})\n    useEffect(() => {\n        findWidgetsForTopic(topicId)\n    }, [topicId])\n\n\n    return(\n        <div>\n            <i onClick={() => createWidget(topicId)} className=\"fas fa-plus float-right fa-2x\"></i>\n            <h1>Widget List</h1>\n            <ul className=\"list-group\">\n                {\n                    myWidgets.map(_widget =>\n                        <li key={_widget.id} className=\"list-group-item\">\n                            {\n                                _widget.id === widget.id &&\n                                <>\n                                    <i onClick={() => deleteWidget(_widget)} className=\"fas fa-trash float-right\"></i>\n                                    <i onClick={() => {\n                                        updateWidget(widget)\n                                    }} className=\"fas fa-check float-right\"></i>\n                                </>\n                            }\n                            {\n                                _widget.id !== widget.id &&\n                                <i onClick={() => setWidget(_widget)} className=\"fas fa-cog float-right\"></i>\n                            }\n                            {\n                                _widget.type === \"HEADING\" &&\n                                <HeadingWidget\n                                    setWidget={setWidget}\n                                    editing={_widget.id === widget.id}\n                                    widget={_widget}/>\n                            }\n                            {\n                                _widget.type === \"PARAGRAPH\" &&\n                                <ParagraphWidget\n                                    setWidget={setWidget}\n                                    editing={_widget.id === widget.id}\n                                    widget={_widget}/>\n                            }\n                        </li>\n                    )\n                }\n            </ul>\n        </div>\n    )\n}\n\nconst stpm = (state) => {\n    return {\n        myWidgets: state.widgetReducer.widgets\n    }\n}\n\nconst dtpm = (dispatch) => {\n    return {\n        createWidget: (topicId) => {\n            widgetService.createWidget(topicId, {type: \"HEADING\", size: 1, text: \"New Widget\"})\n                .then(theActualWidget => dispatch({\n                    type: \"CREATE_WIDGET\",\n                    widget: theActualWidget\n                }))\n        },\n        deleteWidget: (item) =>\n            widgetService.deleteWidget(item.id)\n                .then(status => dispatch({\n                    type: \"DELETE_WIDGET\",\n                    widgetToDelete: item\n                })),\n        updateWidget: (widget) =>\n            widgetService.updateWidget(widget.id, widget)\n                .then(status => dispatch({\n                    type: \"UPDATE_WIDGET\",\n                    widget\n                })),\n        findWidgetsForTopic: (tid) => {\n            widgetService.findWidgetsForTopic(tid)\n                .then(theWidgets => dispatch({\n                    type: \"FIND_ALL_WIDGETS_FOR_TOPIC\",\n                    widgets: theWidgets\n                }))\n        }\n    }\n}\n\nexport default connect(stpm, dtpm)\n(WidgetList)"]},"metadata":{},"sourceType":"module"}